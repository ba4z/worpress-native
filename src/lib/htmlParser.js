import React from "react";
import DOMParser from "react-native-html-parser";
import {View, Text, Image} from "react-native";
import cssToJson from "css-to-react-native-transform";


const parser = new DOMParser.DOMParser();

const wpToFlex = {
	"middle": "center"
};


// https://github.com/archriss/react-native-render-html

/*
  TODO:
	1. download css remotely
    2. download color config remotely
*/


export function wrapHtml(html) {
	let fullHtml =
		"<html>" +
		"<head>" +
		"<meta name=\"viewport\" content=\"initial-scale=1.0, maximum-scale=1.0\">" +
		"<link rel='stylesheet' id='negan-theme-css'  href='https://fitnessforus.com/wp-content/themes/negan/style.css' type='text/css' media='all' />" +
		"<style id='negan-theme-inline-css' type='text/css'> .site-loading .la-image-loading {opacity: 1;visibility: visible}.la-image-loading.spinner-custom .content {width: 100px;margin-top: -50px;height: 100px;margin-left: -50px;text-align: center}.la-image-loading.spinner-custom .content img {width: auto;margin: 0 auto}.site-loading #page.site {opacity: 0;transition: all .3s ease-in-out}#page.site {opacity: 1}.la-image-loading {opacity: 0;position: fixed;z-index: 999999;left: 0;top: 0;right: 0;bottom: 0;background-color: #fff;overflow: hidden;transition: all .3s ease-in-out;-webkit-transition: all .3s ease-in-out;visibility: hidden;background-repeat: repeat;background-position: left top}.la-image-loading .content {position: absolute;width: 50px;height: 50px;top: 50%;left: 50%;margin-left: -25px;margin-top: -25px}.la-image-loading .la-loader.spinner4 > div,.la-image-loading .la-loader.spinner3 > div,.la-image-loading .la-loader.spinner2,.la-image-loading .la-loader.spinner1{background-color: #246e71}.section-page-header{color: #8a8a8a;background-repeat: repeat;background-position: left top}.section-page-header .page-title{color: #246e71}.section-page-header a{color: #8a8a8a}.section-page-header a:hover{color: #246e71}.section-page-header .page-header-inner{padding-top: 25px;padding-bottom: 25px}@media(min-width: 768px){.section-page-header .page-header-inner{padding-top: 25px;padding-bottom: 25px}}@media(min-width: 992px){.section-page-header .page-header-inner{padding-top: 50px;padding-bottom: 50px}}.site-main{padding-top:70px;padding-bottom:30px}body.negan-body{font-size: 14px;background-repeat: repeat;background-position: left top}body.negan-body.body-boxed #page.site{width: 1230px;max-width: 100%;margin-left: auto;margin-right: auto;background-repeat: repeat;background-position: left top}#masthead_aside,.site-header .site-header-inner{background-repeat: repeat;background-position: left top;background-color: #fff}.enable-header-transparency .site-header:not(.is-sticky) .site-header-inner{background-repeat: repeat;background-position: left top;background-color: rgba(0,0,0,0)}.site-footer{background-repeat: repeat;background-position: left top}.open-newsletter-popup .lightcase-inlineWrap{background-repeat: repeat;background-position: left top}.site-header .site-branding a{height: 100px;line-height: 100px}.site-header .header-right,.site-header .header-middle{padding-top: 30px;padding-bottom: 30px}.site-header .mega-menu > li:hover > .popup{margin-top: 30px}.enable-header-sticky .site-header.is-sticky .site-branding a{height: 80px;line-height: 80px}.enable-header-sticky .site-header.is-sticky .header-middle,.enable-header-sticky .site-header.is-sticky .header-right{padding-top: 20px;padding-bottom: 20px}.enable-header-sticky .site-header.is-sticky .mega-menu > li:hover > .popup{margin-top: 20px}@media(min-width: 992px){.site-header-mobile .site-branding a{height: 100px;line-height: 100px}.site-header-mobile .header-main .header-right{padding-top: 30px;padding-bottom: 30px}}@media(max-width: 991px){.site-header-mobile .site-branding a{height: 80px;line-height: 80px}.site-header-mobile .header-component-inner{padding-top: 20px;padding-bottom: 20px}.site-header-mobile.is-sticky .site-branding a{height: 70px;line-height: 70px}.site-header-mobile.is-sticky .header-component-inner{padding-top: 15px;padding-bottom: 15px}}#yith-wcwl-form table .button {display: inline-block !important;background: #343538;color: #fff;border-radius: 0;padding: 10px 15px}#yith-wcwl-form table .button:hover{background: #246e71}.header-v3 .site-header__nav-primary{background-color: #000}.product_item--category-link,.blog_item--category-link, .entry-thumbnail.format-quote .format-quote-content, .author-info__name span, .single-post-detail .comment-text .description, .woocommerce-Reviews .comment_container .description, .portfolio-single-page .entry-tax-list, .elm-countdown.elm-countdown-style-1 .countdown-section .countdown-period, .block_heading--subtitle,.la-blockquote.style-1,.la-blockquote.style-2,.testimonial_item--excerpt,.subscribe-style-02 .yikes-easy-mc-form .yikes-easy-mc-email,.vc_cta3-container .la-cta-01.vc_cta3 h4,.three-font-family,.highlight-font-family {font-family: \"Playfair Display\"; font-style: italic}h1,.h1, h2,.h2, h3,.h3, h4,.h4, h5,.h5, h6,.h6, .title-xlarge, .mega-menu .mm-popup-wide .inner > ul.sub-menu > li > a, .hover-box-icon .la-sc-icon-boxes a, .la-stats-counter.about-counter .icon-value, .la-pricing-table-wrap.style-4 .la-pricing-table .pricing-heading, .la-pricing-table-wrap.style-4 .la-pricing-table .price-box .price-value, .la-pricing-table-wrap.style-4 .la-pricing-table .pricing-action a, .heading-font-family {font-family: \"Montserrat\"}body, .la-blockquote.style-1 footer, .la-blockquote.style-2 footer {font-family: \"Montserrat\"}.background-color-primary, .slick-slider .slick-dots li:hover button,.slick-slider .slick-dots .slick-active button, .wc-toolbar .wc-ordering ul li:hover a, .wc-toolbar .wc-ordering ul li.active a, .header__action--cart > a .la-cart-count, .site-main-nav .main-menu > li > a:after, .header5-fallback-inner .dl-menuwrapper li:not(.dl-back) > a .mm-text:before, .dl-menu .tip.hot,.mega-menu .tip.hot,.menu .tip.hot, .comment-form .form-submit .submit, .social-media-link.style-round a:hover, .social-media-link.style-square a:hover, .social-media-link.style-circle a:hover, .social-media-link.style-outline a:hover, .banner-type-hover_effect .banner--link-overlay:after, [class*=\"vc_tta-la-\"] .tabs-la-4 .vc_tta-tabs-list li a:after,[class*=\"vc_tta-la-\"] .tabs-la-2 .vc_tta-tabs-list li a:after,[class*=\"vc_tta-la-\"] .tabs-la-1 .vc_tta-tabs-list li a:after, .la-sc-icon-boxes .box-icon-style-square span,.la-sc-icon-boxes .box-icon-style-circle span,.la-sc-icon-boxes .box-icon-style-round span, .la-newsletter-popup .yikes-easy-mc-form .yikes-easy-mc-submit-button:hover, .portfolios-loop.pf-style-2 .entry-title:after, .portfolios-loop.pf-style-3 .item--link-overlay, .portfolios-loop.pf-style-4 .item--info, .la-pricing-table-wrap.style-1 .pricing-action a:hover, .la-pricing-table-wrap.style-1.is_box_featured .pricing-action a, .la-pricing-table-wrap.style-2 .la-pricing-table .pricing-heading, .la-pricing-table-wrap.style-2 .la-pricing-table .pricing-action, .la-pricing-table-wrap.style-3 .la-pricing-table .pricing-heading-wrap, .la-pricing-table-wrap.style-4 .la-pricing-table:hover .pricing-action a, .la-timeline-wrap.style-1 .timeline-block .timeline-dot, .la-woo-product-gallery .woocommerce-product-gallery__trigger, .product--summary .single_add_to_cart_button:hover, .wc-tabs li a:after, .registration-form .button, .la-loader.spinner1, .la-loader.spinner2, .la-loader.spinner3 .bounce1,.la-loader.spinner3 .bounce2,.la-loader.spinner3 .bounce3, .la-loader.spinner4 .dot1,.la-loader.spinner4 .dot2, .socials-color a:hover {background-color: #246e71}.background-color-secondary, .la-pagination ul .page-numbers.current, .slick-slider .slick-dots button, #header_aside .btn-aside-toggle, .entry-thumbnail-with-effect .item--overlay, .comment-form .form-submit .submit:hover, .portfolio-single-page .entry-tax-list:after, .social-media-link.style-round a, .social-media-link.style-square a, .social-media-link.style-circle a, .la-newsletter-popup .yikes-easy-mc-form .yikes-easy-mc-submit-button, .product--summary .single_add_to_cart_button {background-color: #2e8c96}.background-color-body {background-color: #8a8a8a}.background-color-border {background-color: #e8e8e8}a:focus, a:hover, .search-form .search-button:hover, .slick-slider button.slick-arrow:hover, .vertical-style ul li:hover a, .vertical-style ul li.active a, .filter-style-2 ul li:hover a, .filter-style-2 ul li.active a, .wc-toolbar .wc-view-toggle .active, .wc-toolbar .wc-view-count li.active, .widget.widget_product_tag_cloud a.selected,.widget.product-sort-by .active a,.widget.widget_layered_nav .chosen a,.widget.la-price-filter-list a.actived, .widget_recent_comments li.recentcomments a, .product_list_widget a:hover, #header_aside .btn-aside-toggle:hover, .header5-fallback .btn-aside-toggle:hover, .dl-menu .tip.hot .tip-arrow:before,.mega-menu .tip.hot .tip-arrow:before,.menu .tip.hot .tip-arrow:before, .blog_item--meta a:hover, .entry-meta-footer .social--sharing a:hover, .portfolio-single-page .portfolio-social-links .social--sharing a:hover, body .vc_toggle.vc_toggle_default.vc_toggle_active .vc_toggle_title h4, .wpb-js-composer [class*=\"vc_tta-la-\"] .vc_active .vc_tta-panel-heading .vc_tta-panel-title, [class*=\"vc_tta-la-\"] .tabs-la-1 .vc_tta-tabs-list li:hover > a,[class*=\"vc_tta-la-\"] .tabs-la-1 .vc_tta-tabs-list li.vc_active > a, .la-sc-icon-boxes .box-icon-style-simple span, .hover-box-icon .la-sc-icon-boxes:hover a:hover, .subscribe-style-01 .yikes-easy-mc-form .yikes-easy-mc-submit-button:hover, .subscribe-style-04 .yikes-easy-mc-form .yikes-easy-mc-submit-button:hover, .wpb-js-composer .vc_tta.vc_tta-accordion.vc_tta-style-la-2 .vc_tta-panel.vc_active .vc_tta-panel-title, .la-pricing-table .wrap-icon .icon-inner, .la-pricing-table-wrap.style-1 .pricing-heading, .la-pricing-table-wrap.style-1 .pricing-action a, .la-pricing-table-wrap.style-2 .la-pricing-table .wrap-icon .icon-inner, .la-pricing-table-wrap.style-4 .la-pricing-table .pricing-heading, .la-timeline-wrap.style-1 .timeline-block .timeline-subtitle, .product_item .price ins, .products-list .product_item .product_item--info .add_compare:hover,.products-list .product_item .product_item--info .add_wishlist:hover, .product--summary .product_meta a:hover, .product--summary .social--sharing a:hover, .product--summary .add_compare:hover,.product--summary .add_wishlist:hover, .cart-collaterals .woocommerce-shipping-calculator .button:hover,.cart-collaterals .la-coupon .button:hover, .woocommerce-MyAccount-navigation li.is-active a {color: #246e71}.text-color-primary {color: #246e71 !important}.swatch-wrapper:hover, .swatch-wrapper.selected, .social-media-link.style-outline a:hover, .la-headings .la-line, .wpb-js-composer .vc_tta.vc_tta-accordion.vc_tta-style-la-3 .vc_tta-panel.vc_active, .la-pricing-table-wrap.style-1 .pricing-action a:hover, .la-pricing-table-wrap.style-1.is_box_featured .pricing-action a, .la-pricing-table-wrap.style-4 .la-pricing-table .pricing-action a, .la-pricing-table-wrap.style-4 .la-pricing-table:hover .pricing-action a, .la-woo-thumbs .la-thumb.slick-current:before {border-color: #246e71}.border-color-primary {border-color: #246e71 !important}.la-pricing-table-wrap.style-3 .la-pricing-table .pricing-heading-wrap:after {border-top-color: #246e71}.border-top-color-primary {border-top-color: #246e71 !important}.hover-box-icon .la-sc-icon-boxes:hover {border-bottom-color: #246e71}.border-bottom-color-primary {border-bottom-color: #246e71 !important}.border-left-color-primary {border-left-color: #246e71 !important}.border-right-color-primary {border-right-color: #246e71 !important}.la-pagination ul .page-numbers, .filter-style-1 ul li:hover a, .filter-style-1 ul li.active a,.filter-style-default ul li:hover a,.filter-style-default ul li.active a, .filter-style-2 ul li a, .woocommerce-message,.woocommerce-error,.woocommerce-info, .form-row label, div.quantity, .product_list_widget a, .product_list_widget .amount, .sidebar-inner ul.menu li.current-cat > a, .sidebar-inner ul.menu li.current-cat-parent > a, .sidebar-inner ul.menu li.open > a, .sidebar-inner ul.menu li:hover > a, .tags-list a, .entry-meta-footer .social--sharing a, .author-info__name a, .post-navigation .post-title, .la-instagram-title, .commentlist .comment-meta .comment-reply-link:hover, .comment-form label, .woocommerce-Reviews .comment_container .meta .woocommerce-review__author, .portfolio-single-page .portfolio-social-links .social--sharing, .portfolio-single-page .portfolio-meta-data .meta-item [class*=\"negan-icon\"], .la-blockquote.style-2, .la-members--style-2 .item--social, [class*=\"vc_tta-la-\"] .vc_tta-tabs-list li:hover > a,[class*=\"vc_tta-la-\"] .vc_tta-tabs-list li.vc_active > a, [class*=\"vc_tta-la-\"] .tabs-la-1 .vc_tta-tabs-list li a, [class*=\"vc_tta-la-\"] .tabs-la-2 .vc_tta-tabs-list li:hover > a,[class*=\"vc_tta-la-\"] .tabs-la-2 .vc_tta-tabs-list li.vc_active > a, .testimonial_item--title-role, .la_testimonials--style-2 .testimonial_item, .hover-box-icon .la-sc-icon-boxes:hover a, .cf7-style-01 .wpcf7-form-control-wrap .wpcf7-select,.cf7-style-01 .wpcf7-form-control-wrap .wpcf7-text,.cf7-style-01 .wpcf7-form-control-wrap .wpcf7-textarea, .la-newsletter-popup, .la-newsletter-popup .yikes-easy-mc-form .yikes-easy-mc-email:focus, .subscribe-style-01 .yikes-easy-mc-form .yikes-easy-mc-email:focus, .subscribe-style-01 .yikes-easy-mc-form .yikes-easy-mc-submit-button, .subscribe-style-03 .yikes-easy-mc-form, .subscribe-style-04 .yikes-easy-mc-form .yikes-easy-mc-email:focus, .subscribe-style-04 .yikes-easy-mc-form .yikes-easy-mc-submit-button, .countdown-amount, .products-list .product_item .product_item--info .add_compare,.products-list .product_item .product_item--info .add_wishlist, .la-woo-thumbs .slick-arrow, .product--summary .product_meta a, .product--summary .product_meta_sku_wrapper, .product--summary .social--sharing a, .product--summary .group_table label, .product--summary .variations td, .product--summary .add_compare,.product--summary .add_wishlist, .product--summary .add_compare:hover:after,.product--summary .add_wishlist:hover:after, .wc-tabs li a, .wc-tab .wc-tab-title, .shop_table td.product-price,.shop_table td.product-subtotal, .shop_table .product-name a, .cart-collaterals .shop_table, .cart-collaterals .woocommerce-shipping-calculator .button,.cart-collaterals .la-coupon .button, .woocommerce > p.cart-empty:before, table.woocommerce-checkout-review-order-table, .wc_payment_methods .wc_payment_method label {color: #2e8c96}.text-color-secondary {color: #2e8c96 !important}input:focus, select:focus, textarea:focus, .la-pagination ul .page-numbers.current, .la-pagination ul .page-numbers:hover {border-color: #2e8c96}.border-color-secondary {border-color: #2e8c96 !important}.border-top-color-secondary {border-top-color: #2e8c96 !important}.border-bottom-color-secondary {border-bottom-color: #2e8c96 !important}.border-left-color-secondary {border-left-color: #2e8c96 !important}.border-right-color-secondary {border-right-color: #2e8c96 !important}h1,.h1, h2,.h2, h3,.h3, h4,.h4, h5,.h5, h6,.h6, .title-xlarge, table th {color: #246e71}.text-color-heading {color: #246e71 !important}.border-color-heading {border-color: #246e71 !important}.border-top-color-heading {border-top-color: #246e71 !important}.border-bottom-color-heading {border-bottom-color: #246e71 !important}.border-left-color-heading {border-left-color: #246e71 !important}.border-right-color-heading {border-right-color: #246e71 !important}.star-rating, .product .product-price del,.product .price del, .wc-toolbar .wc-view-count ul, .product_item--category-link a,.blog_item--category-link a, .blog_item--meta [class*=\"fa-\"] {color: #9d9d9d}.text-color-three {color: #9d9d9d !important}.border-color-three {border-color: #9d9d9d !important}.border-top-color-three {border-top-color: #9d9d9d !important}.border-bottom-color-three {border-bottom-color: #9d9d9d !important}.border-left-color-three {border-left-color: #9d9d9d !important}.border-right-color-three {border-right-color: #9d9d9d !important}body, .la-newsletter-popup .yikes-easy-mc-form .yikes-easy-mc-email, .subscribe-style-01 .yikes-easy-mc-form .yikes-easy-mc-email, .subscribe-style-04 .yikes-easy-mc-form .yikes-easy-mc-email, table.woocommerce-checkout-review-order-table .variation,table.woocommerce-checkout-review-order-table .product-quantity {color: #8a8a8a}.text-color-body {color: #8a8a8a !important}.border-color-body {border-color: #8a8a8a !important}.border-top-color-body {border-top-color: #8a8a8a !important}.border-bottom-color-body {border-bottom-color: #8a8a8a !important}.border-left-color-body {border-left-color: #8a8a8a !important}.border-right-color-body {border-right-color: #8a8a8a !important}input, select, textarea, table,table th,table td, .share-links a, .select2-container .select2-selection--single, .wc-toolbar .wc-ordering, .wc-toolbar .wc-ordering ul, .swatch-wrapper, .widget_shopping_cart_content .total, .calendar_wrap caption, .widget-border.widget, .widget-border-bottom.widget, .section-page-header, .sidebar-inner .widget_archive .menu li a, .sidebar-inner .widget_tag_cloud .tagcloud a, .blog-main-loop.blog-list_1 .blog_item--inner, .showposts-loop.search-main-loop .item-inner, .single-post-detail .comments-area .comment-text, .la-blockquote.style-2, .la-blockquote.style-2 footer, .social-media-link.style-outline a, body .vc_toggle.vc_toggle_default, .la-newsletter-popup .yikes-easy-mc-form .yikes-easy-mc-email, .subscribe-style-01 .yikes-easy-mc-form .yikes-easy-mc-email, .subscribe-style-04 .yikes-easy-mc-form .yikes-easy-mc-email, .wpb-js-composer .vc_tta.vc_tta-accordion.vc_tta-style-la-1 .vc_tta-panel-title, .wpb-js-composer .vc_tta.vc_tta-accordion.vc_tta-style-la-3 .vc_tta-panel, .la-pricing-table-wrap.style-1 .package-featured li, .la-pricing-table-wrap.style-2 .la-pricing-table, .la-pricing-table-wrap.style-3 .la-pricing-table, .la-timeline-wrap.style-1 .timeline-line, .la-timeline-wrap.style-2 .timeline-title:after, .la-p-single-wrap:not(.la-p-single-3) .la-wc-tabs-wrapper.active-sidebar-p-s-block .wc-tabs-wrapper, .shop_table.cart td {border-color: #e8e8e8}.border-color {border-color: #e8e8e8 !important}.border-top-color {border-top-color: #e8e8e8 !important}.border-bottom-color {border-bottom-color: #e8e8e8 !important}.border-left-color {border-left-color: #e8e8e8 !important}.border-right-color {border-right-color: #e8e8e8 !important}h1, .h1, h2, .h2, h3, .h3, h4, .h4, h5, .h5, h6, .h6, .title-xlarge {font-weight: 700}.btn {color: #fff;background-color: #2e8c96}.btn:hover {background-color: #246e71;color: #fff}.btn.btn-primary {background-color: #246e71;color: #fff}.btn.btn-primary:hover {color: #fff;background-color: #2e8c96}.btn.btn-outline {border-color: #e8e8e8;color: #2e8c96}.btn.btn-outline:hover {color: #fff;background-color: #246e71;border-color: #246e71}.btn.btn-style-flat.btn-color-primary {background-color: #246e71}.btn.btn-style-flat.btn-color-primary:hover {background-color: #2e8c96}.btn.btn-style-flat.btn-color-white {background-color: #fff;color: #2e8c96}.btn.btn-style-flat.btn-color-white:hover {color: #fff;background-color: #246e71}.btn.btn-style-flat.btn-color-white2 {background-color: #fff;color: #2e8c96}.btn.btn-style-flat.btn-color-white2:hover {color: #fff;background-color: #2e8c96}.btn.btn-style-flat.btn-color-gray {background-color: #8a8a8a}.btn.btn-style-flat.btn-color-gray:hover {background-color: #246e71}.btn.btn-style-outline:hover {border-color: #246e71;background-color: #246e71;color: #fff}.btn.btn-style-outline.btn-color-black {border-color: #2e8c96;color: #2e8c96}.btn.btn-style-outline.btn-color-black:hover {border-color: #246e71;background-color: #246e71;color: #fff}.btn.btn-style-outline.btn-color-primary {border-color: #246e71;color: #246e71}.btn.btn-style-outline.btn-color-primary:hover {border-color: #2e8c96;background-color: #2e8c96;color: #fff}.btn.btn-style-outline.btn-color-white {border-color: #fff;color: #fff}.btn.btn-style-outline.btn-color-white:hover {border-color: #246e71;background-color: #246e71;color: #fff}.btn.btn-style-outline.btn-color-white2 {border-color: rgba(255, 255, 255, 0.5);color: #fff}.btn.btn-style-outline.btn-color-white2:hover {border-color: #2e8c96;background-color: #2e8c96;color: #fff}.btn.btn-style-outline.btn-color-gray {border-color: #9d9d9d;color: #2e8c96}.btn.btn-style-outline.btn-color-gray:hover {border-color: #2e8c96;background-color: #2e8c96;color: #fff}.elm-loadmore-ajax a {color: #2e8c96}.elm-loadmore-ajax a:hover {background-color: #2e8c96;border-color: #2e8c96;color: #fff}.btn.btn-outline-top-3 {border-width: 3px 0 0;padding: 0;background-color: transparent !important;border-color: #246e71 !important;color: inherit !important;margin-top: 15px}.btn.btn-outline-top-3:hover {color: #246e71 !important}.btn.btn-color-black.btn-align-center.btn-size-lg.btn-style-outline {font-weight: normal}.btn.btn-color-black.btn-align-center.btn-size-lg.btn-style-outline:not(:hover) {border-color: #e2dcd5}center > p > a.button,.form-row [name=\"apply_for_vendor_submit\"],.products-list .product_item .product_item--info .add_to_cart_button,.place-order .button,.wc-proceed-to-checkout .button,.widget_shopping_cart_content .button,.woocommerce-MyAccount-content form .button,.lost_reset_password .button,form.register .button,.checkout_coupon .button,.woocomerce-form .button {background-color: #2e8c96;border-color: #2e8c96;color: #fff}center > p > a.button:hover,.form-row [name=\"apply_for_vendor_submit\"]:hover,.products-list .product_item .product_item--info .add_to_cart_button:hover,.place-order .button:hover,.wc-proceed-to-checkout .button:hover,.widget_shopping_cart_content .button:hover,.woocommerce-MyAccount-content form .button:hover,.lost_reset_password .button:hover,form.register .button:hover,.checkout_coupon .button:hover,.woocomerce-form .button:hover {background-color: #246e71;border-color: #246e71;color: #fff}.wcvendors-pro-dashboard-wrapper .wcv-button,.wcvendors-pro-dashboard-wrapper .button {background-color: #2e8c96 !important;border-color: #2e8c96 !important;color: #fff !important}.wcvendors-pro-dashboard-wrapper .wcv-button:hover,.wcvendors-pro-dashboard-wrapper .button:hover {background-color: #246e71 !important;border-color: #246e71 !important;color: #fff !important}.shop_table.cart td.actions .button {background-color: transparent;color: #2e8c96;border-color: #e8e8e8}.shop_table.cart td.actions .button:hover {color: #fff;background-color: #2e8c96;border-color: #2e8c96}.widget_price_filter .button {color: #fff;background-color: #246e71}.widget_price_filter .button:hover {color: #fff;background-color: #2e8c96}#masthead_aside,#header_aside {background-color: #fff;color: #343538}#masthead_aside h1, #masthead_aside .h1, #masthead_aside h2, #masthead_aside .h2, #masthead_aside h3, #masthead_aside .h3, #masthead_aside h4, #masthead_aside .h4, #masthead_aside h5, #masthead_aside .h5, #masthead_aside h6, #masthead_aside .h6, #masthead_aside .title-xlarge,#header_aside h1,#header_aside .h1,#header_aside h2,#header_aside .h2,#header_aside h3,#header_aside .h3,#header_aside h4,#header_aside .h4,#header_aside h5,#header_aside .h5,#header_aside h6,#header_aside .h6,#header_aside .title-xlarge {color: #246e71}#masthead_aside ul:not(.sub-menu) > li > a,#header_aside ul:not(.sub-menu) > li > a {color: #165254}#masthead_aside ul:not(.sub-menu) > li:hover > a,#header_aside ul:not(.sub-menu) > li:hover > a {color: #246e71}.header--aside .header__action--account-menu .menu {background-color: #fff}.header--aside .header__action > a {color: #165254}.header--aside .header__action:hover > a {color: #246e71}ul.mega-menu .popup li > a {color: #8a8a8a;background-color: rgba(0,0,0,0)}ul.mega-menu .popup li:hover > a {color: #343538;background-color: rgba(0,0,0,0)}ul.mega-menu .popup li.active > a {color: #343538;background-color: rgba(0,0,0,0)}ul.mega-menu .popup > .inner,ul.mega-menu .mm-popup-wide .inner > ul.sub-menu > li li ul.sub-menu,ul.mega-menu .mm-popup-narrow ul ul {background-color: #fff}ul.mega-menu .mm-popup-wide .inner > ul.sub-menu > li li li:hover > a,ul.mega-menu .mm-popup-narrow li.menu-item:hover > a {color: #343538;background-color: rgba(0,0,0,0)}ul.mega-menu .mm-popup-wide .inner > ul.sub-menu > li li li.active > a,ul.mega-menu .mm-popup-narrow li.menu-item.active > a {color: #343538;background-color: rgba(0,0,0,0)}ul.mega-menu .mm-popup-wide .inner > ul.sub-menu > li > a {color: #343538}.site-main-nav .main-menu > li > a {color: #343538;background-color: rgba(0,0,0,0)}.site-main-nav .main-menu > li.active > a,.site-main-nav .main-menu > li:hover > a {color: #1d363a;background-color: rgba(0,0,0,0)}.site-main-nav .main-menu > li.active:before,.site-main-nav .main-menu > li:hover:before {background-color: rgba(0,0,0,0)}.site-header .header__action > a {color: #343538}.site-header .header__action:hover > a {color: #1d363a}.site-header-top {background-color: rgba(0,0,0,0);color: rgba(255,255,255,0.2)}.site-header-top .la-contact-item,.site-header-top .menu li > a {color: #fff}.site-header-top .la-contact-item a:hover,.site-header-top .menu li:hover > a {color: #1d363a}.enable-header-transparency .site-header:not(.is-sticky) .header__action > a {color: #343538}.enable-header-transparency .site-header:not(.is-sticky) .header__action:hover > a {color: #dcb86c}.enable-header-transparency .site-header:not(.is-sticky) .site-main-nav .main-menu > li > a {color: #343538;background-color: rgba(0,0,0,0)}.enable-header-transparency .site-header:not(.is-sticky) .site-main-nav .main-menu > li.active > a,.enable-header-transparency .site-header:not(.is-sticky) .site-main-nav .main-menu > li:hover > a {color: #343538;background-color: rgba(0,0,0,0)}.enable-header-transparency .site-header:not(.is-sticky) .site-main-nav .main-menu > li.active:before,.enable-header-transparency .site-header:not(.is-sticky) .site-main-nav .main-menu > li:hover:before {background-color: rgba(0,0,0,0)}.site-header-top .header_component .component-target {color: rgba(255,255,255,0.2)}.site-header-top .header_component a.component-target {color: #fff}.site-header-top .header_component:hover a.component-target {color: #1d363a}.site-header-top .header_component:hover a.component-target .component-target-text {color: #1d363a}.site-header-top .header_component.la_com_action--dropdownmenu-text:hover .component-target,.site-header-top .header_component.la_com_action--linktext:hover .component-target {color: #fff}.site-header-top .header_component.la_com_action--dropdownmenu-text:hover .component-target .component-target-text,.site-header-top .header_component.la_com_action--linktext:hover .component-target .component-target-text {color: #1d363a}.site-header-mobile .site-header-inner {background-color: #fff}.site-header-mobile .la_compt_iem > .component-target,.site-header-mobile .header__action > a {color: #8a8a8a}.site-header-mobile .mobile-menu-wrap {background-color: #fff}.site-header-mobile .mobile-menu-wrap .dl-menuwrapper ul {background: #fff;border-color: #e8e8e8}.site-header-mobile .mobile-menu-wrap .dl-menuwrapper li {border-color: #e8e8e8}.site-header-mobile .mobile-menu-wrap .dl-menu > li > a {color: #343538;background-color: rgba(0,0,0,0)}.site-header-mobile .mobile-menu-wrap .dl-menu > li:hover > a {color: #dcb86c;background-color: rgba(0,0,0,0)}.site-header-mobile .mobile-menu-wrap .dl-menu ul > li > a {color: #343538;background-color: rgba(0,0,0,0)}.site-header-mobile .mobile-menu-wrap .dl-menu ul > li:hover > a {color: #fff;background-color: #dcb86c}.cart-flyout {background-color: #fff;color: #343538}.cart-flyout .cart-flyout__heading {color: #246e71;font-family: \"Montserrat\"}.cart-flyout .product_list_widget a {color: #165254}.cart-flyout .product_list_widget a:hover {color: #246e71}.cart-flyout .widget_shopping_cart_content .total {color: #246e71}.site-footer {color: #8a8a8a}.site-footer a {color: #8a8a8a}.site-footer a:hover {color: #246e71}.site-footer .widget .widget-title {color: #343538}.site-header-mobile .mobile-menu-wrap .dl-menu {border-width: 1px;border-style: solid;box-shadow: 0 6px 12px rgba(0, 0, 0, 0.076);-webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.076)}.site-header-mobile .mobile-menu-wrap .dl-menu li {border-width: 1px 0 0;border-style: solid}.site-header-mobile .mobile-menu-wrap .dl-menuwrapper li.dl-subviewopen,.site-header-mobile .mobile-menu-wrap .dl-menuwrapper li.dl-subview,.site-header-mobile .mobile-menu-wrap .dl-menuwrapper li:first-child {border-top-width: 0}.wpb-js-composer [class*=\"vc_tta-la-\"] .vc_tta-panel-heading .vc_tta-panel-title .vc_tta-icon {margin-right: 10px}.la-myaccount-page .la_tab_control li.active a,.la-myaccount-page .la_tab_control li:hover a,.la-myaccount-page .ywsl-label {color: #2e8c96}.la-myaccount-page .btn-create-account:hover {color: #fff;background-color: #2e8c96;border-color: #2e8c96}@media (max-width: 767px) {.la-advanced-product-filters {background-color: #fff;color: #343538}.la-advanced-product-filters .widget-title {color: #246e71}.la-advanced-product-filters a {color: #165254}.la-advanced-product-filters a:hover {color: #246e71}}</style>" +
		"</head>" +
		"<div style='padding: 10px'>" +
		html +
		"</div></html>";

	return fullHtml;
}

export function cleanHtml(html) {
	const dom = parser.parseFromString(html, "text/html");
	return dom.childNodes[0].childNodes[0].data;
}

export function getFeaturedMedia(post, size) {
	if(post && post._embedded && post._embedded["wp:featuredmedia"][0] && post._embedded["wp:featuredmedia"][0]["media_details"].sizes[size]){
		return post._embedded["wp:featuredmedia"][0]["media_details"].sizes[size].source_url;
	}
	return "https://fitnessforus.com/wp-content/uploads/2017/06/Monique2017-164748-Edit-1024x684.jpg";
}

const laHeadingRenderer = (htmlAttribs, children, convertedCSSStyles, passProps) => {
	// console.log(htmlAttribs);
	return (
		<View {...passProps} style={{flex: 1}}>
			<Text style={{
				fontSize: 26,
				textAlign: htmlAttribs.alignment || "center",
				color: htmlAttribs.line_color,
				fontWeight: "bold"
			}}>{htmlAttribs.title}</Text>
			<View
				style={{
					borderBottomColor: htmlAttribs.line_color,
					borderBottomWidth: parseInt(htmlAttribs.line_height),
					width: 50,
					padding: 10,
					marginBottom: 10,
					flex: 1,
				}}
			/>
			<Text>{children}</Text>
		</View>
	);
};

const vcRowRowRenderer = (htmlAttribs, children, convertedCSSStyles, passProps) => {
	// console.log(htmlAttribs);

	const rowStyle = {
		justifyContent: wpToFlex[htmlAttribs["content_placement"]],
		alignItems: wpToFlex[htmlAttribs["content_placement"]],
		flexDirection: "column",
	};
	return (
		<View style={{width: "100%", flex: 1, marginTop: 10, ...rowStyle}} {...passProps}>{children}</View>
	);
};

const columnRenderer = (htmlAttribs, children, convertedCSSStyles, passProps) => {
	const bgImageRegex = /\(([^]+)\)/gm;
	let columnStyle, backgroundImg;
	if(htmlAttribs.css) {
		const jsonStyles = cssToJson(htmlAttribs.css);
		columnStyle = jsonStyles[Object.keys(jsonStyles)[0]];
		if(columnStyle.backgroundImage) {
			let imgUrl = bgImageRegex.exec(columnStyle.backgroundImage);
			if(imgUrl && imgUrl.length > 1) {
				backgroundImg = {uri: imgUrl[1]};
			}
		}
	}

	return (
		<View {...passProps} style={{flex: 1}} key={passProps.key}>
			{backgroundImg && (
				<Image
					key={passProps.key}
					style={{width: 500, height: 250, resizeMode: "cover"}}
					source={backgroundImg}
				/>
			)}
			{children}
		</View>
	);
};


export const renderers = {
	"vc_row": vcRowRowRenderer,
	"la_heading": laHeadingRenderer,
	"vc_column": columnRenderer,
};
